body[data-page="JournalViewer"] {
	overflow-x: clip;
}

.journal-viewer {
	width: 100%;
	color: #333;
	z-index: 0;
}

.reader-bar {
	margin: 0 -2rem;
	position: sticky;
	top: var(--reader-bar-top, 8px);
	display: flex;
	align-items: center;
	gap: 1rem;
	padding: 0.75rem 1.5rem;
	background-color: transparent;
	border-radius: 999px;
	transition:
		background-color 0.3s ease,
		box-shadow 0.3s ease;
	z-index: 2;
}

.reader-bar__back {
	color: #f3f3f3;
	text-decoration: none;
	background-color: rgba(35, 35, 60, 0.6);
	padding: 0.4rem 0.9rem;
	border-radius: 999px;
	font-weight: 600;
	transition:
		transform 0.2s ease,
		background-color 0.2s ease;
}

.reader-bar__back:hover {
	transform: translateY(-1px);
	background-color: rgba(35, 35, 60, 0.8);
}

.reader-bar__top {
	color: #f3f3f3;
	background-color: rgba(35, 35, 60, 0.6);
	border: none;
	padding: 0.4rem 0.9rem;
	border-radius: 999px;
	font-weight: 600;
	cursor: pointer;
	transition:
		transform 0.2s ease,
		background-color 0.2s ease,
		opacity 0.2s ease;
	opacity: 0;
	pointer-events: none;
	margin-left: auto;
}

.reader-bar__top:hover {
	transform: translateY(-1px);
	background-color: rgba(35, 35, 60, 0.8);
}

.reader-bar__top.visible {
	opacity: 1;
	pointer-events: auto;
}

.reader-bar__title {
	color: #f3f3f3;
	font-weight: 600;
	opacity: 0;
	transform: translateY(6px);
	transition:
		opacity 0.2s ease,
		transform 0.2s ease;
}

.reader-bar--solid {
	background-color: rgba(26, 26, 50, 0.88);
	box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
	backdrop-filter: blur(8px);
}

.reader-bar--solid .reader-bar__title {
	opacity: 1;
	transform: translateY(0);
}

.journal-viewer__content {
	margin-top: 1rem;
	--line-height: 28px;
	--line-offset: 8px;
	overflow-x: hidden;
	background-image:
		repeating-linear-gradient(
			to bottom,
			rgba(90, 70, 50, 0.1) 0,
			rgba(90, 70, 50, 0.1) 2px,
			transparent 2px,
			transparent var(--line-height)
		),
		linear-gradient(
			180deg,
			rgba(255, 250, 233, 0.85),
			rgba(240, 230, 210, 0.95)
		);
	background-position: 0 var(--line-offset);
	border-radius: 2.5rem;
	padding: calc(2.5rem + var(--line-offset)) 3rem 1.5rem;
	line-height: var(--line-height);
	box-shadow: 0 22px 40px rgba(11, 10, 20, 0.35);
}

.journal-viewer__header {
	border-bottom: 3px solid rgba(150, 120, 90, 0.35);
	padding: 1.5rem 0;
	margin-bottom: 2rem;
}

.journal-viewer__header h1 {
	font-size: 2.5rem;
	line-height: calc(var(--line-height) * 2);
	margin: 4px 0 4px 0;
}

.journal-viewer__header p {
	font-size: 1.1rem;
	color: rgba(60, 50, 40, 0.7);
	line-height: var(--line-height);
	margin: -10px 0 0 0;
}

.journal-date {
	font-size: 0.95rem;
	color: rgba(60, 50, 40, 0.6);
	line-height: var(--line-height);
	margin: 0 0 -2px 0 !important;
	font-weight: 500;
}

.journal-viewer__body {
	font-size: 1.05rem;
	line-height: var(--line-height);
}

.journal-viewer__body h2,
.journal-viewer__body h3,
.journal-viewer__body h4 {
	scroll-margin-top: 4rem;
	padding: 10px 0 0 0;
	margin-bottom: -10px;
	margin-top: calc(var(--line-height) * 2);
	line-height: calc(var(--line-height) * 2);
}

.journal-viewer__body p {
	margin-bottom: var(--line-height);
}

.journal-viewer__body a {
	color: #5a5ed0;
}

.journal-viewer__body em,
.journal-viewer__body i {
	font-style: italic;
}

.journal-viewer__body strong,
.journal-viewer__body b {
	font-weight: bold;
}

@media (max-aspect-ratio: 3/4) {
	.reader-bar {
		margin: 0 1rem;
		padding: 0.6rem 1rem;
	}

	.journal-viewer__content {
		padding: calc(2.5rem + var(--line-offset)) 1.5rem 1.5rem;
		border-radius: 2rem;
	}
}
